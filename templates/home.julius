var conn = new WebSocket("ws://localhost:3000/");

time = document.getElementById('time');
count = 0;
tick = newTick();

conn.onopen = function() {
    setInterval(function() { 
        conn.send(canvas.src);
      }, 1000);
};
conn.onmessage = function(e) {
    time.innerHTML += "<br>" + count + ": " + secondsSince(tick).toString();
    tick = newTick();
    count += 1;
};
function newTick() {
  return new Date().getTime();
}
function secondsSince(tick) {
  return (newTick() - tick) / 1000;
}
